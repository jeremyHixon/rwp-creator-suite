/**
 * Instagram Banner Creator Block - Frontend Styles
 */

.wp-block-rwp-creator-suite-instagram-banner {
    // Base container with Tailwind utilities
    @apply blk-min-h-96 blk-w-full blk-relative;
    container-type: inline-size;
    
    .blk-instagram-banner-container {
        @apply blk-w-full blk-max-w-full blk-mx-auto blk-p-4;
        container-type: inline-size;
        
        @media (min-width: 768px) {
            @apply blk-p-8;
        }
    }

    // Main banner creator styles
    .blk-banner-creator {
        @apply blk-w-full blk-max-w-6xl blk-mx-auto;
    }

    // Section headers
    .blk-section-title {
        @apply blk-text-3xl blk-font-semibold blk-m-0 blk-mb-2 blk-text-gray-800;
        
        @media (max-width: 768px) {
            @apply blk-text-2xl;
        }
    }

    .blk-section-description {
        @apply blk-text-gray-500 blk-m-0 blk-mb-8 blk-leading-relaxed;
    }

    // Upload interface
    .blk-upload-zone {
        @apply blk-border-2 blk-border-dashed blk-border-gray-300 blk-rounded-xl;
        @apply blk-py-12 blk-px-8 blk-text-center blk-bg-gray-50;
        @apply blk-transition-all blk-duration-300 blk-cursor-pointer;
        
        &:hover, &.blk-upload-zone--dragover {
            @apply blk-border-blue-500 blk-bg-blue-50;
            
            .blk-upload-icon svg {
                @apply blk-text-blue-500;
            }
        }
        
        @media (max-width: 768px) {
            @apply blk-py-8 blk-px-4;
        }
    }

    .blk-upload-icon {
        @apply blk-m-0 blk-mb-6;
        
        svg {
            @apply blk-text-gray-400 blk-transition-colors blk-duration-300;
        }
    }

    .blk-upload-title {
        @apply blk-text-xl blk-font-semibold blk-m-0 blk-mb-2 blk-text-gray-800;
    }

    .blk-upload-subtitle {
        @apply blk-text-gray-500 blk-m-0 blk-mb-4;
    }

    .blk-file-info {
        @apply blk-text-sm blk-text-gray-400;
    }

    // Progress bar
    .blk-upload-progress {
        @apply blk-my-8;
    }

    .blk-progress-bar {
        @apply blk-w-full blk-h-2 blk-bg-gray-100 blk-rounded blk-overflow-hidden blk-mb-2;
    }

    .blk-progress-fill {
        @apply blk-h-full blk-bg-blue-500 blk-rounded blk-transition-all blk-duration-300 blk-w-0;
    }

    .blk-progress-text {
        @apply blk-text-center blk-text-sm blk-text-gray-500;
    }

    // Crop interface
    .blk-crop-container {
        @apply blk-grid blk-my-8 blk-gap-8;
        grid-template-columns: 1fr 300px;
        
        @media (max-width: 1024px) {
            @apply blk-grid-cols-1 blk-gap-6;
        }
    }

    .blk-crop-canvas-container {
        @apply blk-relative blk-bg-gray-50 blk-rounded-lg blk-overflow-hidden;
    }

    .blk-crop-canvas {
        @apply blk-block blk-max-w-full blk-h-auto;
    }

    .blk-crop-overlay {
        @apply blk-absolute blk-inset-0 blk-pointer-events-none;
    }

    .blk-crop-area {
        @apply blk-absolute blk-border-2 blk-border-blue-500 blk-cursor-move blk-pointer-events-auto;
        background: rgba(59, 130, 246, 0.1);
        
        &::before {
            content: '';
            @apply blk-absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
        }
    }

    .blk-crop-handle {
        @apply blk-absolute blk-w-3 blk-h-3 blk-bg-blue-500 blk-border-2 blk-border-white blk-rounded-full blk-cursor-pointer;
        
        &--nw { top: -6px; left: -6px; cursor: nw-resize; }
        &--ne { top: -6px; right: -6px; cursor: ne-resize; }
        &--sw { bottom: -6px; left: -6px; cursor: sw-resize; }
        &--se { bottom: -6px; right: -6px; cursor: se-resize; }
    }

    .blk-crop-controls {
        @apply blk-bg-white blk-border blk-border-gray-200 blk-rounded-lg blk-p-6 blk-h-fit;
    }

    .blk-control-group {
        @apply blk-mb-6;
    }

    .blk-control-label {
        @apply blk-block blk-font-semibold blk-mb-2 blk-text-gray-900;
    }

    .blk-aspect-info {
        @apply blk-font-mono blk-bg-gray-100 blk-p-2 blk-rounded blk-text-sm blk-text-gray-500;
    }

    // Preview interface
    .blk-banner-preview {
        @apply blk-flex blk-justify-center blk-items-start blk-my-8 blk-p-8 blk-bg-gray-50 blk-rounded-xl;
        gap: 4px;
        
        @media (max-width: 768px) {
            @apply blk-flex-col blk-gap-4 blk-p-4;
        }
    }

    .blk-banner-image {
        @apply blk-relative blk-flex-1 blk-max-w-xs;
        
        @media (max-width: 768px) {
            @apply blk-max-w-full blk-w-full;
        }
        
        canvas {
            @apply blk-w-full blk-h-auto blk-rounded-lg blk-shadow-lg;
        }
    }

    .blk-banner-gap {
        @apply blk-w-1 blk-rounded-sm;
        background: linear-gradient(to bottom, #e5e7eb, #d1d5db);
        
        @media (max-width: 768px) {
            @apply blk-w-full blk-h-1;
        }
    }

    .blk-image-label {
        @apply blk-absolute blk-bottom-2 blk-left-2 blk-text-white blk-px-2 blk-py-1 blk-rounded blk-text-xs blk-font-semibold;
        background: rgba(0, 0, 0, 0.8);
    }

    // Download interface
    .blk-download-section {
        @apply blk-my-8;
    }

    .blk-download-controls {
        @apply blk-text-center blk-mb-8;
    }

    .blk-individual-downloads {
        @apply blk-flex blk-justify-center blk-gap-4 blk-mt-4;
        
        @media (max-width: 768px) {
            @apply blk-flex-col blk-items-center;
        }
    }


    // Teaser interface (replaces guest interface)
    .blk-teaser-section {
        @apply blk-relative;
    }

    .blk-teaser-results {
        @apply blk-relative;

        .blk-teaser-overlay {
            @apply blk-absolute blk-left-0 blk-right-0 blk-bottom-0 blk-rounded-xl blk-flex blk-items-center blk-justify-center blk-z-10;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(139, 92, 246, 0.95));
            min-height: fit-content;

            .blk-teaser-content {
                @apply blk-text-center blk-p-6 blk-max-w-[90%] blk-w-full blk-box-border;

                .blk-teaser-icon {
                    @apply blk-text-5xl blk-mb-4;
                }

                h3 {
                    @apply blk-text-2xl blk-font-bold blk-m-0 blk-mb-3 blk-text-white blk-leading-tight;
                }

                p {
                    @apply blk-m-0 blk-mb-5 blk-text-lg blk-leading-relaxed;
                    color: rgba(255, 255, 255, 0.9);

                    strong {
                        @apply blk-text-white blk-font-bold;
                    }
                }

                .blk-teaser-benefits {
                    @apply blk-text-left blk-my-5;

                    .blk-benefit-item {
                        @apply blk-flex blk-items-center blk-my-2 blk-text-base;
                        color: rgba(255, 255, 255, 0.9);

                        .blk-benefit-icon {
                            @apply blk-mr-2 blk-text-lg blk-flex-shrink-0;
                        }
                    }
                }

                .blk-teaser-cta {
                    @apply blk-mt-7;

                    .blk-button--large {
                        @apply blk-py-3 blk-px-7 blk-text-lg blk-font-semibold blk-mb-4 blk-bg-white blk-text-blue-500 blk-rounded-lg;

                        &:hover {
                            @apply blk-bg-slate-50 blk-text-blue-600;
                        }
                    }

                    .blk-teaser-note {
                        @apply blk-m-0 blk-text-xs blk-leading-snug;
                        color: rgba(255, 255, 255, 0.8);

                        a {
                            @apply blk-text-white blk-underline;

                            &:hover {
                                @apply blk-text-slate-100;
                            }
                        }
                    }
                }
            }
        }

        .blk-teaser-preview {
            @apply blk-blur-sm blk-opacity-70;

            .blk-teaser-footer {
                @apply blk-text-center blk-p-6 blk-rounded-b-lg blk-mt-4;
                background: rgba(255, 255, 255, 0.9);
            }
        }
    }

    // Responsive adjustments for teaser content
    @container (max-width: 768px) {
        .blk-teaser-content {
            padding: 1rem !important;
            
            .blk-teaser-icon {
                font-size: 2rem !important;
            }

            h3 {
                font-size: 1.25rem !important;
            }

            p {
                font-size: 0.9rem !important;
            }

            .blk-benefit-item {
                font-size: 0.8rem !important;
            }

            .blk-button--large {
                padding: 0.625rem 1.25rem !important;
                font-size: 0.9rem !important;
            }
        }
    }

    @container (max-width: 480px) {
        .blk-teaser-content {
            padding: 0.75rem !important;

            .blk-teaser-benefits {
                text-align: center !important;
            }

            .blk-teaser-icon {
                font-size: 1.75rem !important;
                margin-bottom: 0.5rem !important;
            }

            h3 {
                font-size: 1.1rem !important;
                margin-bottom: 0.25rem !important;
            }

            .blk-teaser-cta {
                margin-top: 1rem !important;
            }
        }
    }

    // Buttons
    .blk-button {
        @apply blk-inline-flex blk-items-center blk-justify-center blk-gap-2 blk-py-2 blk-px-5 blk-text-sm blk-font-semibold blk-rounded-md blk-border blk-border-transparent blk-cursor-pointer blk-transition-all blk-duration-200 blk-no-underline blk-leading-5;
        
        &:disabled {
            @apply blk-opacity-50 blk-cursor-not-allowed;
        }
        
        &--primary {
            @apply blk-bg-blue-500 blk-text-white;
            
            &:hover:not(:disabled) {
                @apply blk-bg-blue-600;
            }
        }
        
        &--secondary {
            @apply blk-bg-white blk-text-gray-700 blk-border-gray-300;
            
            &:hover:not(:disabled) {
                @apply blk-bg-gray-50 blk-border-gray-400;
            }
        }
        
        &--small {
            @apply blk-py-1 blk-px-3 blk-text-xs;
        }
        
        &--large {
            @apply blk-py-3 blk-px-7 blk-text-base;
        }
    }

    .blk-control-actions {
        @apply blk-flex blk-flex-col blk-gap-3;
    }

    .blk-preview-controls {
        @apply blk-flex blk-justify-center blk-gap-4 blk-my-8;
        
        @media (max-width: 768px) {
            @apply blk-flex-col blk-items-center;
        }
    }

    // Error messages
    .blk-error-message {
        @apply blk-bg-red-50 blk-border blk-border-red-200 blk-text-red-600 blk-p-4 blk-rounded-md blk-my-4 blk-text-sm;
    }

    // Responsive utilities
    @media (max-width: 640px) {
        .blk-banner-creator {
            @apply blk-p-2;
        }
        
        .blk-section-title {
            @apply blk-text-xl;
        }
        
        .blk-crop-container {
            @apply blk-grid-cols-1;
        }
    }
}